<style>
  .free-shipping-progress {
    margin: 15px 0;
    text-align: center;
    font-size: 14px;
  }

  .progress-bar {
    height: 9px;
    border-radius: 8px;
    background: #eee;
    overflow: hidden;
    margin-bottom: 8px;
    background: #E1E1E1;
  }

  .progress-fill {
    height: 100%;
    background: #D8BBD6;
    width: 0;
    border-radius: 8px;
    transition: width 0.4s ease;
  }
  .progress-fill:empty{
    display: block;

  }

  .progress-text strong {
    font-weight: bold;
  }
</style>

{% assign free_shipping_threshold = settings.free_shipping_threshold | times: 100 %}
{% assign cart_total = cart.total_price %}

{% assign remaining = free_shipping_threshold | minus: cart_total %}
{% if remaining < 0 %}
  {% assign remaining = 0 %}
{% endif %}

<div class="free-shipping-progress">
  <div class="progress-bar">
    <div
      class="progress-fill"
      style="width: {{ cart_total | times: 100 | divided_by: free_shipping_threshold | at_most: 100 }}%;"
    ></div>
  </div>

  <p class="progress-text">
    {% if cart_total >= free_shipping_threshold %}
      ðŸŽ‰ You unlocked <strong>Free Standard Shipping!</strong>
    {% else %}
      Add <strong>{{ remaining | money }}</strong> to unlock <strong>Free Standard Shipping!</strong>
    {% endif %}
  </p>
</div>
